"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/video/signed-url/route";
exports.ids = ["app/api/video/signed-url/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvideo%2Fsigned-url%2Froute&page=%2Fapi%2Fvideo%2Fsigned-url%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideo%2Fsigned-url%2Froute.ts&appDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvideo%2Fsigned-url%2Froute&page=%2Fapi%2Fvideo%2Fsigned-url%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideo%2Fsigned-url%2Froute.ts&appDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Webprojects_ShikshaNetra_app_api_video_signed_url_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/video/signed-url/route.ts */ \"(rsc)/./app/api/video/signed-url/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/video/signed-url/route\",\n        pathname: \"/api/video/signed-url\",\n        filename: \"route\",\n        bundlePath: \"app/api/video/signed-url/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Webprojects\\\\ShikshaNetra\\\\app\\\\api\\\\video\\\\signed-url\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Webprojects_ShikshaNetra_app_api_video_signed_url_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/video/signed-url/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2aWRlbyUyRnNpZ25lZC11cmwlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZpZGVvJTJGc2lnbmVkLXVybCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZpZGVvJTJGc2lnbmVkLXVybCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNXZWJwcm9qZWN0cyU1Q1NoaWtzaGFOZXRyYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDV2VicHJvamVjdHMlNUNTaGlrc2hhTmV0cmEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8/M2Q4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxXZWJwcm9qZWN0c1xcXFxTaGlrc2hhTmV0cmFcXFxcYXBwXFxcXGFwaVxcXFx2aWRlb1xcXFxzaWduZWQtdXJsXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92aWRlby9zaWduZWQtdXJsL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdmlkZW8vc2lnbmVkLXVybFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmlkZW8vc2lnbmVkLXVybC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFdlYnByb2plY3RzXFxcXFNoaWtzaGFOZXRyYVxcXFxhcHBcXFxcYXBpXFxcXHZpZGVvXFxcXHNpZ25lZC11cmxcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3ZpZGVvL3NpZ25lZC11cmwvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvideo%2Fsigned-url%2Froute&page=%2Fapi%2Fvideo%2Fsigned-url%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideo%2Fsigned-url%2Froute.ts&appDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/video/signed-url/route.ts":
/*!*******************************************!*\
  !*** ./app/api/video/signed-url/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_middleware_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/middleware/auth */ \"(rsc)/./lib/middleware/auth.ts\");\n/* harmony import */ var _lib_services_storageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/services/storageService */ \"(rsc)/./lib/services/storageService.ts\");\n\n\n\n/**\r\n * Generate signed URL for video playback\r\n * GET /api/video/signed-url?path=userId/timestamp_video.mp4\r\n */ async function GET(req) {\n    try {\n        // Verify authentication\n        const user = (0,_lib_middleware_auth__WEBPACK_IMPORTED_MODULE_1__.authMiddleware)(req);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized - Invalid or missing token\"\n            }, {\n                status: 401\n            });\n        }\n        // Get storage path from query params\n        const { searchParams } = new URL(req.url);\n        const storagePath = searchParams.get(\"path\");\n        if (!storagePath) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Storage path is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify user owns this video (path should start with userId)\n        if (!storagePath.startsWith(user.id + \"/\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Access denied - You can only access your own videos\"\n            }, {\n                status: 403\n            });\n        }\n        // Generate signed URL (valid for 1 hour for playback)\n        const signedUrl = await (0,_lib_services_storageService__WEBPACK_IMPORTED_MODULE_2__.getSignedVideoUrl)(storagePath, 3600);\n        if (!signedUrl) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to generate signed URL\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            signedUrl,\n            expiresIn: 3600\n        });\n    } catch (error) {\n        console.error(\"Signed URL error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3ZpZGVvL3NpZ25lZC11cmwvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNEO0FBQ1c7QUFFbEU7OztDQUdDLEdBQ00sZUFBZUcsSUFBSUMsR0FBZ0I7SUFDeEMsSUFBSTtRQUNGLHdCQUF3QjtRQUN4QixNQUFNQyxPQUFPSixvRUFBY0EsQ0FBQ0c7UUFDNUIsSUFBSSxDQUFDQyxNQUFNO1lBQ1QsT0FBT0wscURBQVlBLENBQUNNLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMEMsR0FDbkQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHFDQUFxQztRQUNyQyxNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlOLElBQUlPLEdBQUc7UUFDeEMsTUFBTUMsY0FBY0gsYUFBYUksR0FBRyxDQUFDO1FBRXJDLElBQUksQ0FBQ0QsYUFBYTtZQUNoQixPQUFPWixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUEyQixHQUNwQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsOERBQThEO1FBQzlELElBQUksQ0FBQ0ksWUFBWUUsVUFBVSxDQUFDVCxLQUFLVSxFQUFFLEdBQUcsTUFBTTtZQUMxQyxPQUFPZixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFzRCxHQUMvRDtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsc0RBQXNEO1FBQ3RELE1BQU1RLFlBQVksTUFBTWQsK0VBQWlCQSxDQUFDVSxhQUFhO1FBRXZELElBQUksQ0FBQ0ksV0FBVztZQUNkLE9BQU9oQixxREFBWUEsQ0FBQ00sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFnQyxHQUN6QztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsT0FBT1IscURBQVlBLENBQUNNLElBQUksQ0FBQztZQUN2QlcsU0FBUztZQUNURDtZQUNBRSxXQUFXO1FBQ2I7SUFDRixFQUFFLE9BQU9YLE9BQU87UUFDZFksUUFBUVosS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBT1AscURBQVlBLENBQUNNLElBQUksQ0FDdEI7WUFDRUMsT0FBTztZQUNQYSxTQUFTYixpQkFBaUJjLFFBQVFkLE1BQU1lLE9BQU8sR0FBRztRQUNwRCxHQUNBO1lBQUVkLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8uL2FwcC9hcGkvdmlkZW8vc2lnbmVkLXVybC9yb3V0ZS50cz9lZWNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGF1dGhNaWRkbGV3YXJlIH0gZnJvbSAnQC9saWIvbWlkZGxld2FyZS9hdXRoJztcclxuaW1wb3J0IHsgZ2V0U2lnbmVkVmlkZW9VcmwgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9zdG9yYWdlU2VydmljZSc7XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgc2lnbmVkIFVSTCBmb3IgdmlkZW8gcGxheWJhY2tcclxuICogR0VUIC9hcGkvdmlkZW8vc2lnbmVkLXVybD9wYXRoPXVzZXJJZC90aW1lc3RhbXBfdmlkZW8ubXA0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgLy8gVmVyaWZ5IGF1dGhlbnRpY2F0aW9uXHJcbiAgICBjb25zdCB1c2VyID0gYXV0aE1pZGRsZXdhcmUocmVxKTtcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ1VuYXV0aG9yaXplZCAtIEludmFsaWQgb3IgbWlzc2luZyB0b2tlbicgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgc3RvcmFnZSBwYXRoIGZyb20gcXVlcnkgcGFyYW1zXHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKTtcclxuICAgIGNvbnN0IHN0b3JhZ2VQYXRoID0gc2VhcmNoUGFyYW1zLmdldCgncGF0aCcpO1xyXG5cclxuICAgIGlmICghc3RvcmFnZVBhdGgpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdTdG9yYWdlIHBhdGggaXMgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZ5IHVzZXIgb3ducyB0aGlzIHZpZGVvIChwYXRoIHNob3VsZCBzdGFydCB3aXRoIHVzZXJJZClcclxuICAgIGlmICghc3RvcmFnZVBhdGguc3RhcnRzV2l0aCh1c2VyLmlkICsgJy8nKSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0FjY2VzcyBkZW5pZWQgLSBZb3UgY2FuIG9ubHkgYWNjZXNzIHlvdXIgb3duIHZpZGVvcycgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBzaWduZWQgVVJMICh2YWxpZCBmb3IgMSBob3VyIGZvciBwbGF5YmFjaylcclxuICAgIGNvbnN0IHNpZ25lZFVybCA9IGF3YWl0IGdldFNpZ25lZFZpZGVvVXJsKHN0b3JhZ2VQYXRoLCAzNjAwKTtcclxuXHJcbiAgICBpZiAoIXNpZ25lZFVybCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBnZW5lcmF0ZSBzaWduZWQgVVJMJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHNpZ25lZFVybCxcclxuICAgICAgZXhwaXJlc0luOiAzNjAwLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ25lZCBVUkwgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IFxyXG4gICAgICAgIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhdXRoTWlkZGxld2FyZSIsImdldFNpZ25lZFZpZGVvVXJsIiwiR0VUIiwicmVxIiwidXNlciIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInN0b3JhZ2VQYXRoIiwiZ2V0Iiwic3RhcnRzV2l0aCIsImlkIiwic2lnbmVkVXJsIiwic3VjY2VzcyIsImV4cGlyZXNJbiIsImNvbnNvbGUiLCJkZXRhaWxzIiwiRXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/video/signed-url/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/config/jwt.ts":
/*!***************************!*\
  !*** ./lib/config/jwt.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCESS_TOKEN_EXPIRY: () => (/* binding */ ACCESS_TOKEN_EXPIRY),\n/* harmony export */   JWT_REFRESH_SECRET: () => (/* binding */ JWT_REFRESH_SECRET),\n/* harmony export */   JWT_SECRET: () => (/* binding */ JWT_SECRET),\n/* harmony export */   REFRESH_TOKEN_EXPIRY: () => (/* binding */ REFRESH_TOKEN_EXPIRY)\n/* harmony export */ });\nconst JWT_SECRET = process.env.JWT_SECRET || \"change-me-in-production\";\nconst JWT_REFRESH_SECRET = process.env.JWT_REFRESH_SECRET || \"change-me-in-production\";\nconst ACCESS_TOKEN_EXPIRY = \"15m\";\nconst REFRESH_TOKEN_EXPIRY = \"7d\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29uZmlnL2p3dC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsTUFBTUEsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVLElBQUk7QUFDN0MsTUFBTUcscUJBQXFCRixRQUFRQyxHQUFHLENBQUNDLGtCQUFrQixJQUFJO0FBQzdELE1BQU1DLHNCQUFzQjtBQUM1QixNQUFNQyx1QkFBdUI7QUFPM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGlrc2hhbmV0cmEtcHJvdG90eXBlLy4vbGliL2NvbmZpZy9qd3QudHM/NjZhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBcImNoYW5nZS1tZS1pbi1wcm9kdWN0aW9uXCI7XHJcbmNvbnN0IEpXVF9SRUZSRVNIX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9SRUZSRVNIX1NFQ1JFVCB8fCBcImNoYW5nZS1tZS1pbi1wcm9kdWN0aW9uXCI7XHJcbmNvbnN0IEFDQ0VTU19UT0tFTl9FWFBJUlkgPSBcIjE1bVwiO1xyXG5jb25zdCBSRUZSRVNIX1RPS0VOX0VYUElSWSA9IFwiN2RcIjtcclxuXHJcbmV4cG9ydCB7XHJcbiAgSldUX1NFQ1JFVCxcclxuICBKV1RfUkVGUkVTSF9TRUNSRVQsXHJcbiAgQUNDRVNTX1RPS0VOX0VYUElSWSxcclxuICBSRUZSRVNIX1RPS0VOX0VYUElSWSxcclxufTtcclxuIl0sIm5hbWVzIjpbIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1JFRlJFU0hfU0VDUkVUIiwiQUNDRVNTX1RPS0VOX0VYUElSWSIsIlJFRlJFU0hfVE9LRU5fRVhQSVJZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/config/jwt.ts\n");

/***/ }),

/***/ "(rsc)/./lib/config/supabase.ts":
/*!********************************!*\
  !*** ./lib/config/supabase.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VIDEO_BUCKET: () => (/* binding */ VIDEO_BUCKET),\n/* harmony export */   supabaseBrowser: () => (/* binding */ supabaseBrowser),\n/* harmony export */   supabaseServer: () => (/* binding */ supabaseServer)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/esm/wrapper.mjs\");\n\n/**\r\n * Supabase Client Configuration\r\n * \r\n * Two clients are created for different use cases:\r\n * \r\n * 1. supabaseBrowser - Uses anon key\r\n *    - For client-side operations\r\n *    - Respects Row Level Security (RLS) policies\r\n *    - Safe to use in browser environment\r\n * \r\n * 2. supabaseServer - Uses service role key\r\n *    - For server-side admin operations\r\n *    - Bypasses Row Level Security (RLS)\r\n *    - Should ONLY be used in server-side code (API routes, server components)\r\n *    - Has full access to all database operations\r\n */ const supabaseUrl = \"https://oemnkopqoyweevncmpjs.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9lbW5rb3Bxb3l3ZWV2bmNtcGpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODIwNjIsImV4cCI6MjA4MDc1ODA2Mn0.gtBwDumPhFXmr6my-6TPBtf5mR7ycrCONgTEf3FtMts\";\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!supabaseUrl) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL environment variable. Please check your .env.local file.\");\n}\nif (!supabaseAnonKey) {\n    throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable. Please check your .env.local file.\");\n}\nif (!supabaseServiceRoleKey) {\n    throw new Error(\"Missing SUPABASE_SERVICE_ROLE_KEY environment variable. Please check your .env.local file.\");\n}\n// Browser client - uses anon key for client-side operations with RLS\nconst supabaseBrowser = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Server client - uses service role key for admin operations (bypasses RLS)\nconst supabaseServer = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n// Storage bucket name for videos\nconst VIDEO_BUCKET = \"shikshanetra\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29uZmlnL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFFckQ7Ozs7Ozs7Ozs7Ozs7OztDQWVDLEdBRUQsTUFBTUMsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLHlCQUF5QkwsUUFBUUMsR0FBRyxDQUFDSyx5QkFBeUI7QUFFcEUsSUFBSSxDQUFDUCxhQUFhO0lBQ2hCLE1BQU0sSUFBSVEsTUFBTTtBQUNsQjtBQUVBLElBQUksQ0FBQ0osaUJBQWlCO0lBQ3BCLE1BQU0sSUFBSUksTUFBTTtBQUNsQjtBQUVBLElBQUksQ0FBQ0Ysd0JBQXdCO0lBQzNCLE1BQU0sSUFBSUUsTUFBTTtBQUNsQjtBQUVBLHFFQUFxRTtBQUM5RCxNQUFNQyxrQkFBa0JWLG1FQUFZQSxDQUFDQyxhQUFhSSxpQkFBaUI7QUFFMUUsNEVBQTRFO0FBQ3JFLE1BQU1NLGlCQUFpQlgsbUVBQVlBLENBQUNDLGFBQWFNLHdCQUF3QjtJQUM5RUssTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGLEdBQUc7QUFFSCxpQ0FBaUM7QUFDMUIsTUFBTUMsZUFBZSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8uL2xpYi9jb25maWcvc3VwYWJhc2UudHM/MmMzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xyXG5cclxuLyoqXHJcbiAqIFN1cGFiYXNlIENsaWVudCBDb25maWd1cmF0aW9uXHJcbiAqIFxyXG4gKiBUd28gY2xpZW50cyBhcmUgY3JlYXRlZCBmb3IgZGlmZmVyZW50IHVzZSBjYXNlczpcclxuICogXHJcbiAqIDEuIHN1cGFiYXNlQnJvd3NlciAtIFVzZXMgYW5vbiBrZXlcclxuICogICAgLSBGb3IgY2xpZW50LXNpZGUgb3BlcmF0aW9uc1xyXG4gKiAgICAtIFJlc3BlY3RzIFJvdyBMZXZlbCBTZWN1cml0eSAoUkxTKSBwb2xpY2llc1xyXG4gKiAgICAtIFNhZmUgdG8gdXNlIGluIGJyb3dzZXIgZW52aXJvbm1lbnRcclxuICogXHJcbiAqIDIuIHN1cGFiYXNlU2VydmVyIC0gVXNlcyBzZXJ2aWNlIHJvbGUga2V5XHJcbiAqICAgIC0gRm9yIHNlcnZlci1zaWRlIGFkbWluIG9wZXJhdGlvbnNcclxuICogICAgLSBCeXBhc3NlcyBSb3cgTGV2ZWwgU2VjdXJpdHkgKFJMUylcclxuICogICAgLSBTaG91bGQgT05MWSBiZSB1c2VkIGluIHNlcnZlci1zaWRlIGNvZGUgKEFQSSByb3V0ZXMsIHNlcnZlciBjb21wb25lbnRzKVxyXG4gKiAgICAtIEhhcyBmdWxsIGFjY2VzcyB0byBhbGwgZGF0YWJhc2Ugb3BlcmF0aW9uc1xyXG4gKi9cclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcclxuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVk7XHJcblxyXG5pZiAoIXN1cGFiYXNlVXJsKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBlbnZpcm9ubWVudCB2YXJpYWJsZS4gUGxlYXNlIGNoZWNrIHlvdXIgLmVudi5sb2NhbCBmaWxlLicpO1xyXG59XHJcblxyXG5pZiAoIXN1cGFiYXNlQW5vbktleSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZS4gUGxlYXNlIGNoZWNrIHlvdXIgLmVudi5sb2NhbCBmaWxlLicpO1xyXG59XHJcblxyXG5pZiAoIXN1cGFiYXNlU2VydmljZVJvbGVLZXkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZS4gUGxlYXNlIGNoZWNrIHlvdXIgLmVudi5sb2NhbCBmaWxlLicpO1xyXG59XHJcblxyXG4vLyBCcm93c2VyIGNsaWVudCAtIHVzZXMgYW5vbiBrZXkgZm9yIGNsaWVudC1zaWRlIG9wZXJhdGlvbnMgd2l0aCBSTFNcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlQnJvd3NlciA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTtcclxuXHJcbi8vIFNlcnZlciBjbGllbnQgLSB1c2VzIHNlcnZpY2Ugcm9sZSBrZXkgZm9yIGFkbWluIG9wZXJhdGlvbnMgKGJ5cGFzc2VzIFJMUylcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlU2VydmVyID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5LCB7XHJcbiAgYXV0aDoge1xyXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2UsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBTdG9yYWdlIGJ1Y2tldCBuYW1lIGZvciB2aWRlb3NcclxuZXhwb3J0IGNvbnN0IFZJREVPX0JVQ0tFVCA9ICdzaGlrc2hhbmV0cmEnO1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZVNlcnZpY2VSb2xlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkVycm9yIiwic3VwYWJhc2VCcm93c2VyIiwic3VwYWJhc2VTZXJ2ZXIiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiVklERU9fQlVDS0VUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/config/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./lib/middleware/auth.ts":
/*!********************************!*\
  !*** ./lib/middleware/auth.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authMiddleware: () => (/* binding */ authMiddleware),\n/* harmony export */   withAuth: () => (/* binding */ withAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_utils_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils/jwt */ \"(rsc)/./lib/utils/jwt.ts\");\n\n\nconst authMiddleware = (req)=>{\n    const authHeader = req.headers.get(\"authorization\");\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n        return null;\n    }\n    const token = authHeader.substring(7);\n    const payload = (0,_lib_utils_jwt__WEBPACK_IMPORTED_MODULE_1__.verifyAccessToken)(token);\n    if (!payload) {\n        return null;\n    }\n    return payload;\n};\nconst withAuth = (handler)=>{\n    return async (req)=>{\n        const user = authMiddleware(req);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized - Invalid or missing token\"\n            }, {\n                status: 401\n            });\n        }\n        const newReq = req;\n        newReq.user = user;\n        return handler(newReq);\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbWlkZGxld2FyZS9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFDSjtBQVU3QyxNQUFNRSxpQkFBaUIsQ0FBQ0M7SUFDN0IsTUFBTUMsYUFBYUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFFbkMsSUFBSSxDQUFDRixjQUFjLENBQUNBLFdBQVdHLFVBQVUsQ0FBQyxZQUFZO1FBQ3BELE9BQU87SUFDVDtJQUVBLE1BQU1DLFFBQVFKLFdBQVdLLFNBQVMsQ0FBQztJQUNuQyxNQUFNQyxVQUFVVCxpRUFBaUJBLENBQUNPO0lBRWxDLElBQUksQ0FBQ0UsU0FBUztRQUNaLE9BQU87SUFDVDtJQUVBLE9BQU9BO0FBQ1QsRUFBRTtBQUVLLE1BQU1DLFdBQVcsQ0FBQ0M7SUFDdkIsT0FBTyxPQUFPVDtRQUNaLE1BQU1VLE9BQU9YLGVBQWVDO1FBRTVCLElBQUksQ0FBQ1UsTUFBTTtZQUNULE9BQU9iLHFEQUFZQSxDQUFDYyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQTBDLEdBQ25EO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxTQUFTZDtRQUNmYyxPQUFPSixJQUFJLEdBQUdBO1FBRWQsT0FBT0QsUUFBUUs7SUFDakI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8uL2xpYi9taWRkbGV3YXJlL2F1dGgudHM/MjgzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcbmltcG9ydCB7IHZlcmlmeUFjY2Vzc1Rva2VuIH0gZnJvbSBcIkAvbGliL3V0aWxzL2p3dFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBdXRoZW50aWNhdGVkUmVxdWVzdCBleHRlbmRzIE5leHRSZXF1ZXN0IHtcclxuICB1c2VyPzoge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIGVtYWlsOiBzdHJpbmc7XHJcbiAgICByb2xlPzogc3RyaW5nO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoTWlkZGxld2FyZSA9IChyZXE6IE5leHRSZXF1ZXN0KSA9PiB7XHJcbiAgY29uc3QgYXV0aEhlYWRlciA9IHJlcS5oZWFkZXJzLmdldChcImF1dGhvcml6YXRpb25cIik7XHJcblxyXG4gIGlmICghYXV0aEhlYWRlciB8fCAhYXV0aEhlYWRlci5zdGFydHNXaXRoKFwiQmVhcmVyIFwiKSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIuc3Vic3RyaW5nKDcpO1xyXG4gIGNvbnN0IHBheWxvYWQgPSB2ZXJpZnlBY2Nlc3NUb2tlbih0b2tlbik7XHJcblxyXG4gIGlmICghcGF5bG9hZCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcGF5bG9hZDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB3aXRoQXV0aCA9IChoYW5kbGVyOiBGdW5jdGlvbikgPT4ge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0UmVxdWVzdCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF1dGhNaWRkbGV3YXJlKHJlcSk7XHJcblxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIlVuYXV0aG9yaXplZCAtIEludmFsaWQgb3IgbWlzc2luZyB0b2tlblwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3UmVxID0gcmVxIGFzIEF1dGhlbnRpY2F0ZWRSZXF1ZXN0O1xyXG4gICAgbmV3UmVxLnVzZXIgPSB1c2VyO1xyXG5cclxuICAgIHJldHVybiBoYW5kbGVyKG5ld1JlcSk7XHJcbiAgfTtcclxufTtcclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeUFjY2Vzc1Rva2VuIiwiYXV0aE1pZGRsZXdhcmUiLCJyZXEiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInN0YXJ0c1dpdGgiLCJ0b2tlbiIsInN1YnN0cmluZyIsInBheWxvYWQiLCJ3aXRoQXV0aCIsImhhbmRsZXIiLCJ1c2VyIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwibmV3UmVxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/middleware/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/services/storageService.ts":
/*!****************************************!*\
  !*** ./lib/services/storageService.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteVideo: () => (/* binding */ deleteVideo),\n/* harmony export */   getSignedVideoUrl: () => (/* binding */ getSignedVideoUrl),\n/* harmony export */   initializeStorageBucket: () => (/* binding */ initializeStorageBucket),\n/* harmony export */   listUserVideos: () => (/* binding */ listUserVideos),\n/* harmony export */   uploadVideo: () => (/* binding */ uploadVideo)\n/* harmony export */ });\n/* harmony import */ var _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/config/supabase */ \"(rsc)/./lib/config/supabase.ts\");\n\n/**\r\n * Upload video file to Supabase Storage\r\n * @param file - The video file to upload\r\n * @param userId - User ID for organizing files\r\n * @param fileName - Optional custom file name\r\n * @returns Upload result with URL or error\r\n */ async function uploadVideo(file, userId, fileName) {\n    try {\n        const timestamp = Date.now();\n        const sanitizedFileName = fileName || file.name;\n        const uniqueFileName = `${userId}/${timestamp}_${sanitizedFileName}`;\n        const arrayBuffer = await file.arrayBuffer();\n        const fileBuffer = Buffer.from(arrayBuffer);\n        // Upload using SERVICE ROLE KEY CLIENT\n        const { data, error } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.from(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET).upload(uniqueFileName, fileBuffer, {\n            contentType: file.type,\n            upsert: false\n        });\n        if (error) return {\n            success: false,\n            error: error.message\n        };\n        // Generate signed URL for ML service (24 hours)\n        const { data: signedData, error: signedError } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.from(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET).createSignedUrl(uniqueFileName, 86400);\n        if (signedError || !signedData) {\n            return {\n                success: false,\n                error: signedError?.message || \"Failed to generate signed URL\"\n            };\n        }\n        return {\n            success: true,\n            path: uniqueFileName,\n            signedUrl: signedData.signedUrl\n        };\n    } catch (e) {\n        return {\n            success: false,\n            error: String(e)\n        };\n    }\n}\n/**\r\n * Delete video from Supabase Storage\r\n * @param path - The storage path of the video\r\n * @returns Success boolean\r\n */ async function deleteVideo(path) {\n    try {\n        const { error } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.from(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET).remove([\n            path\n        ]);\n        if (error) {\n            console.error(\"Supabase delete error:\", error);\n            return false;\n        }\n        console.log(`Video deleted successfully: ${path}`);\n        return true;\n    } catch (error) {\n        console.error(\"Delete video error:\", error);\n        return false;\n    }\n}\n/**\r\n * Get signed URL for private video access (with expiration)\r\n * @param path - The storage path of the video\r\n * @param expiresIn - Expiration time in seconds (default: 1 hour)\r\n * @returns Signed URL or null\r\n */ async function getSignedVideoUrl(path, expiresIn = 3600) {\n    try {\n        const { data, error } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.from(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET).createSignedUrl(path, expiresIn);\n        if (error) {\n            console.error(\"Supabase signed URL error:\", error);\n            return null;\n        }\n        return data.signedUrl;\n    } catch (error) {\n        console.error(\"Get signed URL error:\", error);\n        return null;\n    }\n}\n/**\r\n * List all videos for a user\r\n * @param userId - User ID to filter videos\r\n * @returns List of video paths\r\n */ async function listUserVideos(userId) {\n    try {\n        const { data, error } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.from(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET).list(userId, {\n            limit: 100,\n            offset: 0,\n            sortBy: {\n                column: \"created_at\",\n                order: \"desc\"\n            }\n        });\n        if (error) {\n            console.error(\"Supabase list error:\", error);\n            return [];\n        }\n        return data?.map((file)=>`${userId}/${file.name}`) || [];\n    } catch (error) {\n        console.error(\"List videos error:\", error);\n        return [];\n    }\n}\n/**\r\n * Initialize storage bucket (create if doesn't exist)\r\n * This should be called during setup\r\n */ async function initializeStorageBucket() {\n    try {\n        // Check if bucket exists\n        const { data: buckets, error: listError } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.listBuckets();\n        if (listError) {\n            console.error(\"Error listing buckets:\", listError);\n            return false;\n        }\n        const bucketExists = buckets?.some((bucket)=>bucket.name === _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET);\n        if (!bucketExists) {\n            // Create bucket with private access (requires signed URLs)\n            const { error: createError } = await _lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.supabaseServer.storage.createBucket(_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET, {\n                public: false,\n                fileSizeLimit: 524288000,\n                allowedMimeTypes: [\n                    \"video/mp4\",\n                    \"video/quicktime\",\n                    \"video/x-msvideo\",\n                    \"video/x-matroska\",\n                    \"video/webm\"\n                ]\n            });\n            if (createError) {\n                console.error(\"Error creating bucket:\", createError);\n                return false;\n            }\n            console.log(`Storage bucket \"${_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET}\" created successfully`);\n        } else {\n            console.log(`Storage bucket \"${_lib_config_supabase__WEBPACK_IMPORTED_MODULE_0__.VIDEO_BUCKET}\" already exists`);\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Initialize storage error:\", error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2VydmljZXMvc3RvcmFnZVNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFFO0FBVXJFOzs7Ozs7Q0FNQyxHQUVNLGVBQWVFLFlBQ3BCQyxJQUFVLEVBQ1ZDLE1BQWMsRUFDZEMsUUFBaUI7SUFFakIsSUFBSTtRQUNGLE1BQU1DLFlBQVlDLEtBQUtDLEdBQUc7UUFDMUIsTUFBTUMsb0JBQW9CSixZQUFZRixLQUFLTyxJQUFJO1FBQy9DLE1BQU1DLGlCQUFpQixDQUFDLEVBQUVQLE9BQU8sQ0FBQyxFQUFFRSxVQUFVLENBQUMsRUFBRUcsa0JBQWtCLENBQUM7UUFFcEUsTUFBTUcsY0FBYyxNQUFNVCxLQUFLUyxXQUFXO1FBQzFDLE1BQU1DLGFBQWFDLE9BQU9DLElBQUksQ0FBQ0g7UUFFL0IsdUNBQXVDO1FBQ3ZDLE1BQU0sRUFBRUksSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNakIsZ0VBQWNBLENBQUNrQixPQUFPLENBQ2pESCxJQUFJLENBQUNkLDhEQUFZQSxFQUNqQmtCLE1BQU0sQ0FBQ1IsZ0JBQWdCRSxZQUFZO1lBQ2xDTyxhQUFhakIsS0FBS2tCLElBQUk7WUFDdEJDLFFBQVE7UUFDVjtRQUVGLElBQUlMLE9BQU8sT0FBTztZQUFFTSxTQUFTO1lBQU9OLE9BQU9BLE1BQU1PLE9BQU87UUFBQztRQUV6RCxnREFBZ0Q7UUFDaEQsTUFBTSxFQUFFUixNQUFNUyxVQUFVLEVBQUVSLE9BQU9TLFdBQVcsRUFBRSxHQUFHLE1BQU0xQixnRUFBY0EsQ0FBQ2tCLE9BQU8sQ0FDMUVILElBQUksQ0FBQ2QsOERBQVlBLEVBQ2pCMEIsZUFBZSxDQUFDaEIsZ0JBQWdCO1FBRW5DLElBQUllLGVBQWUsQ0FBQ0QsWUFBWTtZQUM5QixPQUFPO2dCQUFFRixTQUFTO2dCQUFPTixPQUFPUyxhQUFhRixXQUFXO1lBQWdDO1FBQzFGO1FBRUEsT0FBTztZQUNMRCxTQUFTO1lBQ1RLLE1BQU1qQjtZQUNOa0IsV0FBV0osV0FBV0ksU0FBUztRQUNqQztJQUNGLEVBQUUsT0FBT0MsR0FBRztRQUNWLE9BQU87WUFBRVAsU0FBUztZQUFPTixPQUFPYyxPQUFPRDtRQUFHO0lBQzVDO0FBQ0Y7QUFHQTs7OztDQUlDLEdBQ00sZUFBZUUsWUFBWUosSUFBWTtJQUM1QyxJQUFJO1FBQ0YsTUFBTSxFQUFFWCxLQUFLLEVBQUUsR0FBRyxNQUFNakIsZ0VBQWNBLENBQUNrQixPQUFPLENBQzNDSCxJQUFJLENBQUNkLDhEQUFZQSxFQUNqQmdDLE1BQU0sQ0FBQztZQUFDTDtTQUFLO1FBRWhCLElBQUlYLE9BQU87WUFDVGlCLFFBQVFqQixLQUFLLENBQUMsMEJBQTBCQTtZQUN4QyxPQUFPO1FBQ1Q7UUFFQWlCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDRCQUE0QixFQUFFUCxLQUFLLENBQUM7UUFDakQsT0FBTztJQUNULEVBQUUsT0FBT1gsT0FBTztRQUNkaUIsUUFBUWpCLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE9BQU87SUFDVDtBQUNGO0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlbUIsa0JBQ3BCUixJQUFZLEVBQ1pTLFlBQW9CLElBQUk7SUFFeEIsSUFBSTtRQUNGLE1BQU0sRUFBRXJCLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWpCLGdFQUFjQSxDQUFDa0IsT0FBTyxDQUNqREgsSUFBSSxDQUFDZCw4REFBWUEsRUFDakIwQixlQUFlLENBQUNDLE1BQU1TO1FBRXpCLElBQUlwQixPQUFPO1lBQ1RpQixRQUFRakIsS0FBSyxDQUFDLDhCQUE4QkE7WUFDNUMsT0FBTztRQUNUO1FBRUEsT0FBT0QsS0FBS2EsU0FBUztJQUN2QixFQUFFLE9BQU9aLE9BQU87UUFDZGlCLFFBQVFqQixLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7O0NBSUMsR0FDTSxlQUFlcUIsZUFBZWxDLE1BQWM7SUFDakQsSUFBSTtRQUNGLE1BQU0sRUFBRVksSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNakIsZ0VBQWNBLENBQUNrQixPQUFPLENBQ2pESCxJQUFJLENBQUNkLDhEQUFZQSxFQUNqQnNDLElBQUksQ0FBQ25DLFFBQVE7WUFDWm9DLE9BQU87WUFDUEMsUUFBUTtZQUNSQyxRQUFRO2dCQUFFQyxRQUFRO2dCQUFjQyxPQUFPO1lBQU87UUFDaEQ7UUFFRixJQUFJM0IsT0FBTztZQUNUaUIsUUFBUWpCLEtBQUssQ0FBQyx3QkFBd0JBO1lBQ3RDLE9BQU8sRUFBRTtRQUNYO1FBRUEsT0FBT0QsTUFBTTZCLElBQUksQ0FBQzFDLE9BQVMsQ0FBQyxFQUFFQyxPQUFPLENBQUMsRUFBRUQsS0FBS08sSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO0lBQzVELEVBQUUsT0FBT08sT0FBTztRQUNkaUIsUUFBUWpCLEtBQUssQ0FBQyxzQkFBc0JBO1FBQ3BDLE9BQU8sRUFBRTtJQUNYO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDTSxlQUFlNkI7SUFDcEIsSUFBSTtRQUNGLHlCQUF5QjtRQUN6QixNQUFNLEVBQUU5QixNQUFNK0IsT0FBTyxFQUFFOUIsT0FBTytCLFNBQVMsRUFBRSxHQUFHLE1BQU1oRCxnRUFBY0EsQ0FBQ2tCLE9BQU8sQ0FBQytCLFdBQVc7UUFFcEYsSUFBSUQsV0FBVztZQUNiZCxRQUFRakIsS0FBSyxDQUFDLDBCQUEwQitCO1lBQ3hDLE9BQU87UUFDVDtRQUVBLE1BQU1FLGVBQWVILFNBQVNJLEtBQUssQ0FBQ0MsU0FBV0EsT0FBTzFDLElBQUksS0FBS1QsOERBQVlBO1FBRTNFLElBQUksQ0FBQ2lELGNBQWM7WUFDakIsMkRBQTJEO1lBQzNELE1BQU0sRUFBRWpDLE9BQU9vQyxXQUFXLEVBQUUsR0FBRyxNQUFNckQsZ0VBQWNBLENBQUNrQixPQUFPLENBQUNvQyxZQUFZLENBQUNyRCw4REFBWUEsRUFBRTtnQkFDckZzRCxRQUFRO2dCQUNSQyxlQUFlO2dCQUNmQyxrQkFBa0I7b0JBQUM7b0JBQWE7b0JBQW1CO29CQUFtQjtvQkFBb0I7aUJBQWE7WUFDekc7WUFFQSxJQUFJSixhQUFhO2dCQUNmbkIsUUFBUWpCLEtBQUssQ0FBQywwQkFBMEJvQztnQkFDeEMsT0FBTztZQUNUO1lBRUFuQixRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWxDLDhEQUFZQSxDQUFDLHNCQUFzQixDQUFDO1FBQ3JFLE9BQU87WUFDTGlDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFbEMsOERBQVlBLENBQUMsZ0JBQWdCLENBQUM7UUFDL0Q7UUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPZ0IsT0FBTztRQUNkaUIsUUFBUWpCLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8uL2xpYi9zZXJ2aWNlcy9zdG9yYWdlU2VydmljZS50cz8wZDVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlU2VydmVyLCBWSURFT19CVUNLRVQgfSBmcm9tICdAL2xpYi9jb25maWcvc3VwYWJhc2UnO1xyXG5cclxuZXhwb3J0IHR5cGUgVXBsb2FkUmVzdWx0ID0ge1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgdXJsPzogc3RyaW5nO1xyXG4gIHNpZ25lZFVybD86IHN0cmluZztcclxuICBwYXRoPzogc3RyaW5nO1xyXG4gIGVycm9yPzogc3RyaW5nO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFVwbG9hZCB2aWRlbyBmaWxlIHRvIFN1cGFiYXNlIFN0b3JhZ2VcclxuICogQHBhcmFtIGZpbGUgLSBUaGUgdmlkZW8gZmlsZSB0byB1cGxvYWRcclxuICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSUQgZm9yIG9yZ2FuaXppbmcgZmlsZXNcclxuICogQHBhcmFtIGZpbGVOYW1lIC0gT3B0aW9uYWwgY3VzdG9tIGZpbGUgbmFtZVxyXG4gKiBAcmV0dXJucyBVcGxvYWQgcmVzdWx0IHdpdGggVVJMIG9yIGVycm9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZFZpZGVvKFxyXG4gIGZpbGU6IEZpbGUsXHJcbiAgdXNlcklkOiBzdHJpbmcsXHJcbiAgZmlsZU5hbWU/OiBzdHJpbmdcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBzYW5pdGl6ZWRGaWxlTmFtZSA9IGZpbGVOYW1lIHx8IGZpbGUubmFtZTtcclxuICAgIGNvbnN0IHVuaXF1ZUZpbGVOYW1lID0gYCR7dXNlcklkfS8ke3RpbWVzdGFtcH1fJHtzYW5pdGl6ZWRGaWxlTmFtZX1gO1xyXG5cclxuICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgY29uc3QgZmlsZUJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKTtcclxuXHJcbiAgICAvLyBVcGxvYWQgdXNpbmcgU0VSVklDRSBST0xFIEtFWSBDTElFTlRcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyLnN0b3JhZ2VcclxuICAgICAgLmZyb20oVklERU9fQlVDS0VUKVxyXG4gICAgICAudXBsb2FkKHVuaXF1ZUZpbGVOYW1lLCBmaWxlQnVmZmVyLCB7XHJcbiAgICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgICB1cHNlcnQ6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIHNpZ25lZCBVUkwgZm9yIE1MIHNlcnZpY2UgKDI0IGhvdXJzKVxyXG4gICAgY29uc3QgeyBkYXRhOiBzaWduZWREYXRhLCBlcnJvcjogc2lnbmVkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyLnN0b3JhZ2VcclxuICAgICAgLmZyb20oVklERU9fQlVDS0VUKVxyXG4gICAgICAuY3JlYXRlU2lnbmVkVXJsKHVuaXF1ZUZpbGVOYW1lLCA4NjQwMCk7XHJcblxyXG4gICAgaWYgKHNpZ25lZEVycm9yIHx8ICFzaWduZWREYXRhKSB7XHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogc2lnbmVkRXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBnZW5lcmF0ZSBzaWduZWQgVVJMJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHBhdGg6IHVuaXF1ZUZpbGVOYW1lLFxyXG4gICAgICBzaWduZWRVcmw6IHNpZ25lZERhdGEuc2lnbmVkVXJsLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlKSB9O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgdmlkZW8gZnJvbSBTdXBhYmFzZSBTdG9yYWdlXHJcbiAqIEBwYXJhbSBwYXRoIC0gVGhlIHN0b3JhZ2UgcGF0aCBvZiB0aGUgdmlkZW9cclxuICogQHJldHVybnMgU3VjY2VzcyBib29sZWFuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVmlkZW8ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyLnN0b3JhZ2VcclxuICAgICAgLmZyb20oVklERU9fQlVDS0VUKVxyXG4gICAgICAucmVtb3ZlKFtwYXRoXSk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGRlbGV0ZSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhgVmlkZW8gZGVsZXRlZCBzdWNjZXNzZnVsbHk6ICR7cGF0aH1gKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEZWxldGUgdmlkZW8gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBzaWduZWQgVVJMIGZvciBwcml2YXRlIHZpZGVvIGFjY2VzcyAod2l0aCBleHBpcmF0aW9uKVxyXG4gKiBAcGFyYW0gcGF0aCAtIFRoZSBzdG9yYWdlIHBhdGggb2YgdGhlIHZpZGVvXHJcbiAqIEBwYXJhbSBleHBpcmVzSW4gLSBFeHBpcmF0aW9uIHRpbWUgaW4gc2Vjb25kcyAoZGVmYXVsdDogMSBob3VyKVxyXG4gKiBAcmV0dXJucyBTaWduZWQgVVJMIG9yIG51bGxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaWduZWRWaWRlb1VybChcclxuICBwYXRoOiBzdHJpbmcsXHJcbiAgZXhwaXJlc0luOiBudW1iZXIgPSAzNjAwXHJcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlci5zdG9yYWdlXHJcbiAgICAgIC5mcm9tKFZJREVPX0JVQ0tFVClcclxuICAgICAgLmNyZWF0ZVNpZ25lZFVybChwYXRoLCBleHBpcmVzSW4pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBzaWduZWQgVVJMIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGEuc2lnbmVkVXJsO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgc2lnbmVkIFVSTCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0IGFsbCB2aWRlb3MgZm9yIGEgdXNlclxyXG4gKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRCB0byBmaWx0ZXIgdmlkZW9zXHJcbiAqIEByZXR1cm5zIExpc3Qgb2YgdmlkZW8gcGF0aHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0VXNlclZpZGVvcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VTZXJ2ZXIuc3RvcmFnZVxyXG4gICAgICAuZnJvbShWSURFT19CVUNLRVQpXHJcbiAgICAgIC5saXN0KHVzZXJJZCwge1xyXG4gICAgICAgIGxpbWl0OiAxMDAsXHJcbiAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgIHNvcnRCeTogeyBjb2x1bW46ICdjcmVhdGVkX2F0Jywgb3JkZXI6ICdkZXNjJyB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgbGlzdCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YT8ubWFwKChmaWxlKSA9PiBgJHt1c2VySWR9LyR7ZmlsZS5uYW1lfWApIHx8IFtdO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdMaXN0IHZpZGVvcyBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZSBzdG9yYWdlIGJ1Y2tldCAoY3JlYXRlIGlmIGRvZXNuJ3QgZXhpc3QpXHJcbiAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgc2V0dXBcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplU3RvcmFnZUJ1Y2tldCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQ2hlY2sgaWYgYnVja2V0IGV4aXN0c1xyXG4gICAgY29uc3QgeyBkYXRhOiBidWNrZXRzLCBlcnJvcjogbGlzdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVNlcnZlci5zdG9yYWdlLmxpc3RCdWNrZXRzKCk7XHJcblxyXG4gICAgaWYgKGxpc3RFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0aW5nIGJ1Y2tldHM6JywgbGlzdEVycm9yKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1Y2tldEV4aXN0cyA9IGJ1Y2tldHM/LnNvbWUoKGJ1Y2tldCkgPT4gYnVja2V0Lm5hbWUgPT09IFZJREVPX0JVQ0tFVCk7XHJcblxyXG4gICAgaWYgKCFidWNrZXRFeGlzdHMpIHtcclxuICAgICAgLy8gQ3JlYXRlIGJ1Y2tldCB3aXRoIHByaXZhdGUgYWNjZXNzIChyZXF1aXJlcyBzaWduZWQgVVJMcylcclxuICAgICAgY29uc3QgeyBlcnJvcjogY3JlYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlU2VydmVyLnN0b3JhZ2UuY3JlYXRlQnVja2V0KFZJREVPX0JVQ0tFVCwge1xyXG4gICAgICAgIHB1YmxpYzogZmFsc2UsXHJcbiAgICAgICAgZmlsZVNpemVMaW1pdDogNTI0Mjg4MDAwLCAvLyA1MDBNQiBsaW1pdFxyXG4gICAgICAgIGFsbG93ZWRNaW1lVHlwZXM6IFsndmlkZW8vbXA0JywgJ3ZpZGVvL3F1aWNrdGltZScsICd2aWRlby94LW1zdmlkZW8nLCAndmlkZW8veC1tYXRyb3NrYScsICd2aWRlby93ZWJtJ10sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNyZWF0ZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYnVja2V0OicsIGNyZWF0ZUVycm9yKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBTdG9yYWdlIGJ1Y2tldCBcIiR7VklERU9fQlVDS0VUfVwiIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhgU3RvcmFnZSBidWNrZXQgXCIke1ZJREVPX0JVQ0tFVH1cIiBhbHJlYWR5IGV4aXN0c2ApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdJbml0aWFsaXplIHN0b3JhZ2UgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsic3VwYWJhc2VTZXJ2ZXIiLCJWSURFT19CVUNLRVQiLCJ1cGxvYWRWaWRlbyIsImZpbGUiLCJ1c2VySWQiLCJmaWxlTmFtZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzYW5pdGl6ZWRGaWxlTmFtZSIsIm5hbWUiLCJ1bmlxdWVGaWxlTmFtZSIsImFycmF5QnVmZmVyIiwiZmlsZUJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJkYXRhIiwiZXJyb3IiLCJzdG9yYWdlIiwidXBsb2FkIiwiY29udGVudFR5cGUiLCJ0eXBlIiwidXBzZXJ0Iiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJzaWduZWREYXRhIiwic2lnbmVkRXJyb3IiLCJjcmVhdGVTaWduZWRVcmwiLCJwYXRoIiwic2lnbmVkVXJsIiwiZSIsIlN0cmluZyIsImRlbGV0ZVZpZGVvIiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsImdldFNpZ25lZFZpZGVvVXJsIiwiZXhwaXJlc0luIiwibGlzdFVzZXJWaWRlb3MiLCJsaXN0IiwibGltaXQiLCJvZmZzZXQiLCJzb3J0QnkiLCJjb2x1bW4iLCJvcmRlciIsIm1hcCIsImluaXRpYWxpemVTdG9yYWdlQnVja2V0IiwiYnVja2V0cyIsImxpc3RFcnJvciIsImxpc3RCdWNrZXRzIiwiYnVja2V0RXhpc3RzIiwic29tZSIsImJ1Y2tldCIsImNyZWF0ZUVycm9yIiwiY3JlYXRlQnVja2V0IiwicHVibGljIiwiZmlsZVNpemVMaW1pdCIsImFsbG93ZWRNaW1lVHlwZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/services/storageService.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils/jwt.ts":
/*!**************************!*\
  !*** ./lib/utils/jwt.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateAccessToken: () => (/* binding */ generateAccessToken),\n/* harmony export */   generateRefreshToken: () => (/* binding */ generateRefreshToken),\n/* harmony export */   generateTokens: () => (/* binding */ generateTokens),\n/* harmony export */   verifyAccessToken: () => (/* binding */ verifyAccessToken),\n/* harmony export */   verifyRefreshToken: () => (/* binding */ verifyRefreshToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/config/jwt */ \"(rsc)/./lib/config/jwt.ts\");\n\n\nconst generateAccessToken = (payload)=>{\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.JWT_SECRET, {\n        expiresIn: _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.ACCESS_TOKEN_EXPIRY\n    });\n};\nconst generateRefreshToken = (payload)=>{\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.JWT_REFRESH_SECRET, {\n        expiresIn: _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.REFRESH_TOKEN_EXPIRY\n    });\n};\nconst verifyAccessToken = (token)=>{\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.JWT_SECRET);\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n};\nconst verifyRefreshToken = (token)=>{\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, _lib_config_jwt__WEBPACK_IMPORTED_MODULE_1__.JWT_REFRESH_SECRET);\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n};\nconst generateTokens = (payload)=>{\n    const accessToken = generateAccessToken(payload);\n    const refreshToken = generateRefreshToken(payload);\n    return {\n        accessToken,\n        refreshToken\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMvand0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStCO0FBT0w7QUFRbkIsTUFBTUssc0JBQXNCLENBQUNDO0lBQ2xDLE9BQU9OLHdEQUFRLENBQUNNLFNBQVNMLHVEQUFVQSxFQUFFO1FBQUVPLFdBQVdMLGdFQUFtQkE7SUFBQztBQUN4RSxFQUFFO0FBRUssTUFBTU0sdUJBQXVCLENBQUNIO0lBQ25DLE9BQU9OLHdEQUFRLENBQUNNLFNBQVNKLCtEQUFrQkEsRUFBRTtRQUFFTSxXQUFXSixpRUFBb0JBO0lBQUM7QUFDakYsRUFBRTtBQUVLLE1BQU1NLG9CQUFvQixDQUFDQztJQUNoQyxJQUFJO1FBQ0YsTUFBTUMsVUFBVVosMERBQVUsQ0FBQ1csT0FBT1YsdURBQVVBO1FBQzVDLE9BQU9XO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2QsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVLLE1BQU1DLHFCQUFxQixDQUFDSjtJQUNqQyxJQUFJO1FBQ0YsTUFBTUMsVUFBVVosMERBQVUsQ0FBQ1csT0FBT1QsK0RBQWtCQTtRQUNwRCxPQUFPVTtJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFSyxNQUFNRSxpQkFBaUIsQ0FBQ1Y7SUFDN0IsTUFBTVcsY0FBY1osb0JBQW9CQztJQUN4QyxNQUFNWSxlQUFlVCxxQkFBcUJIO0lBQzFDLE9BQU87UUFBRVc7UUFBYUM7SUFBYTtBQUNyQyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hpa3NoYW5ldHJhLXByb3RvdHlwZS8uL2xpYi91dGlscy9qd3QudHM/MWNjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgSldUX1NFQ1JFVCxcclxuICBKV1RfUkVGUkVTSF9TRUNSRVQsXHJcbiAgQUNDRVNTX1RPS0VOX0VYUElSWSxcclxuICBSRUZSRVNIX1RPS0VOX0VYUElSWSxcclxufSBmcm9tIFwiQC9saWIvY29uZmlnL2p3dFwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb2tlblBheWxvYWQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICByb2xlPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVBY2Nlc3NUb2tlbiA9IChwYXlsb2FkOiBUb2tlblBheWxvYWQpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogQUNDRVNTX1RPS0VOX0VYUElSWSB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJlZnJlc2hUb2tlbiA9IChwYXlsb2FkOiBUb2tlblBheWxvYWQpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBKV1RfUkVGUkVTSF9TRUNSRVQsIHsgZXhwaXJlc0luOiBSRUZSRVNIX1RPS0VOX0VYUElSWSB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJpZnlBY2Nlc3NUb2tlbiA9ICh0b2tlbjogc3RyaW5nKTogVG9rZW5QYXlsb2FkIHwgbnVsbCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBUb2tlblBheWxvYWQ7XHJcbiAgICByZXR1cm4gZGVjb2RlZDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZlcmlmeVJlZnJlc2hUb2tlbiA9ICh0b2tlbjogc3RyaW5nKTogVG9rZW5QYXlsb2FkIHwgbnVsbCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfUkVGUkVTSF9TRUNSRVQpIGFzIFRva2VuUGF5bG9hZDtcclxuICAgIHJldHVybiBkZWNvZGVkO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVUb2tlbnMgPSAocGF5bG9hZDogVG9rZW5QYXlsb2FkKSA9PiB7XHJcbiAgY29uc3QgYWNjZXNzVG9rZW4gPSBnZW5lcmF0ZUFjY2Vzc1Rva2VuKHBheWxvYWQpO1xyXG4gIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdlbmVyYXRlUmVmcmVzaFRva2VuKHBheWxvYWQpO1xyXG4gIHJldHVybiB7IGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4gfTtcclxufTtcclxuIl0sIm5hbWVzIjpbImp3dCIsIkpXVF9TRUNSRVQiLCJKV1RfUkVGUkVTSF9TRUNSRVQiLCJBQ0NFU1NfVE9LRU5fRVhQSVJZIiwiUkVGUkVTSF9UT0tFTl9FWFBJUlkiLCJnZW5lcmF0ZUFjY2Vzc1Rva2VuIiwicGF5bG9hZCIsInNpZ24iLCJleHBpcmVzSW4iLCJnZW5lcmF0ZVJlZnJlc2hUb2tlbiIsInZlcmlmeUFjY2Vzc1Rva2VuIiwidG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiZXJyb3IiLCJ2ZXJpZnlSZWZyZXNoVG9rZW4iLCJnZW5lcmF0ZVRva2VucyIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils/jwt.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvideo%2Fsigned-url%2Froute&page=%2Fapi%2Fvideo%2Fsigned-url%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvideo%2Fsigned-url%2Froute.ts&appDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CWebprojects%5CShikshaNetra&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();